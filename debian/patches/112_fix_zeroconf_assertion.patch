--- a/etc/afpd/afp_avahi.c
+++ b/etc/afpd/afp_avahi.c
@@ -91,7 +91,7 @@
 {
   struct context *ctx = userdata;
 
-  assert(g == ctx->group);
+  assert(!ctx->group || g == ctx->group);
 
   switch (state) {
 
