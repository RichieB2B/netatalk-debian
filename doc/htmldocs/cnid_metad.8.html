<html><head><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>cnid_metad</title><link rel="stylesheet" href="netatalk.css" type="text/css"><meta name="generator" content="DocBook XSL Stylesheets V1.65.1"><link rel="home" href="index.html" title="Netatalk 2.0 Manual"><link rel="up" href="man-pages.html" title="Chapter 5. Manual Pages"><link rel="previous" href="cnid_index.1.html" title="cnid_index"><link rel="next" href="getzones.1.html" title="getzones"><link rel="stylesheet" type="text/css" charset="iso-8859-1" href="printer.css" media="print"><link rel="alternate stylesheet" type="text/css" charset="iso-8859-1" href="printer.css" title="Printer"><link rel="copyright" title="GNU General Public License" href="http://www.gnu.org/copyleft/gpl.html#SEC1"><link rel="author" title="The Netatalk Development Team" href="http://netatalk.sf.net"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">cnid_metad</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="cnid_index.1.html">Prev</a> </td><th width="60%" align="center">Chapter 5. Manual Pages</th><td width="20%" align="right"> <a accesskey="n" href="getzones.1.html">Next</a></td></tr></table><hr></div><div class="refentry" lang="en"><a name="cnid_metad.8"></a><div class="titlepage"><div></div><div></div></div><div class="refnamediv"><h2>Name</h2><p>cnid_metad &#8212; start cnid_dbd daemons on request</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="cmdsynopsis"><p><tt class="command">cnid_metad<a class="indexterm" name="id2912372"></a></tt>  [-d] [ -h    <i class="replaceable"><tt>hostname</tt></i> ] [ -p    <i class="replaceable"><tt>port</tt></i> ] [ -u    <i class="replaceable"><tt>user</tt></i> ] [ -g    <i class="replaceable"><tt>group</tt></i> ] [ -s    <i class="replaceable"><tt>cnid_dbdpathname</tt></i> ]</p></div></div><div class="refsect1" lang="en"><a name="id2912519"></a><h2>DESCRIPTION</h2><p><span><b class="command">cnid_metad</b></span> waits for requests from <span class="emphasis"><em>afpd</em></span> to start up instances of the <span class="emphasis"><em>cnid_dbd</em></span>
    daemon. It keeps track of the status of a <span class="emphasis"><em>cnid_dbd</em></span>
    instance once started and will restart it if necessary.
    <span><b class="command">cnid_metad</b></span> is normally started at boot time from
    <tt class="filename">/etc/rc</tt> or equivalent and runs until shutdown.
    <span class="emphasis"><em>afpd</em></span> needs to be configured with the
    <tt class="option">-cnidserver</tt> option in <span class="emphasis"><em>afpd.conf</em></span>
    in order to access <span class="emphasis"><em>cnid_metad.</em></span> It is
    possible to run more than one instance of <span><b class="command">cnid_metad</b></span> on
    the same machine if different values for the interface and/or port are
    specified with the <tt class="option">-h</tt> and <tt class="option">-p</tt> options.</p></div><div class="refsect1" lang="en"><a name="id2912617"></a><h2>OPTIONS</h2><div class="variablelist"><dl><dt><span class="term"><tt class="option">-d</tt></span></dt><dd><p><span class="emphasis"><em>cnid_metad will remain in the foreground
          and</em></span> will also leave the standard input, standard output
          and standard error file descriptors open. Useful for debugging.</p></dd><dt><span class="term"><tt class="option">-h</tt><i class="replaceable"><tt> hostname</tt></i></span></dt><dd><p>Use <span class="emphasis"><em>hostname</em></span> as the network
          interface for requests as opposed to the default <span class="emphasis"><em>localhost
          </em></span>.</p></dd><dt><span class="term"><tt class="option">-p</tt><i class="replaceable"><tt> port</tt></i></span></dt><dd><p>Use <span class="emphasis"><em>port</em></span> as the port number for
          reqests. Default is 4700.</p></dd><dt><span class="term"><tt class="option">-u</tt><i class="replaceable"><tt> user</tt></i></span></dt><dd><p>Switch to the userid of <span class="emphasis"><em>user</em></span>
          before serving requests. This userid will be inherited by all
          <span class="emphasis"><em>cnid_dbd</em></span> daemon processes started.</p></dd><dt><span class="term"><tt class="option">-u</tt><i class="replaceable"><tt> group</tt></i></span></dt><dd><p>Switch to the groupid of <span class="emphasis"><em>group</em></span>
          before serving requests. This groupid will be inherited by all
          <span class="emphasis"><em>cnid_dbd</em></span> daemon processes started.
          Both <span class="emphasis"><em>user</em></span> and <span class="emphasis"><em>group</em></span>
          must be specified as strings.</p></dd><dt><span class="term"><tt class="option">-s</tt><i class="replaceable"><tt> cnid_dbd pathname</tt></i></span></dt><dd><p>Use <span class="emphasis"><em>cnid_dbd pathname</em></span> as the
          pathname of the executeable of the <span class="emphasis"><em>cnid_dbd</em></span>
          daemon. The default is <span class="emphasis"><em>/usr/sbin/cnid_dbd.</em></span></p></dd></dl></div></div><div class="refsect1" lang="en"><a name="id2912854"></a><h2>CAVEATS</h2><p>The number of <span class="emphasis"><em>cnid_dbd</em></span> subprocecesses
    is currently limited to 128. This restriction will be lifted in the
    future.</p><p><span><b class="command">cnid_metad</b></span> does not block or catch any signals
    apart from SIGPIPE. It will therefore exit on most signals received. This
    will also cause all instances of <span class="emphasis"><em>cnid_dbd's</em></span>
    started by that <span><b class="command">cnid_metad</b></span> to exit gracefully. Since
    state about and IPC access to the subprocesses is only maintained in
    memory by <span><b class="command">cnid_metad</b></span> this is desired behaviour. As soon
    as <span><b class="command">cnid_metad</b></span> is restarted <span class="emphasis"><em>afpd</em></span>
    processes will transparently reconnect.</p></div><div class="refsect1" lang="en"><a name="id2912924"></a><h2>SEE ALSO</h2><p><a href="cnid_dbd.8.html"><span class="citerefentry"><span class="refentrytitle">cnid_dbd</span>(8)</span></a>,
    <a href="afpd.8.html"><span class="citerefentry"><span class="refentrytitle">afpd</span>(8)</span></a></p></div></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="cnid_index.1.html">Prev</a> </td><td width="20%" align="center"><a accesskey="u" href="man-pages.html">Up</a></td><td width="40%" align="right"> <a accesskey="n" href="getzones.1.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">cnid_index </td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top"> getzones</td></tr></table></div></body></html>
